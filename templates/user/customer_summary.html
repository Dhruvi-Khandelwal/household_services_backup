{% extends "user/customer_layout.html" %}

{% block content %}
<div class="container-fluid mb-5">

    <!-- Page Heading -->
    <h3 class="text-center mb-4" style="color: #004aad;">Service Request Summary</h3>

    <!-- Chart Section -->
    <div class="d-flex justify-content-center">
        <div style="width: 80%; max-width: 600px;">
            <canvas id="serviceRequestsChart"></canvas>
        </div>
    </div>

</div>

<!-- Include Chart.js Library -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
    // Data for the chart
    const data = {
        labels: ['Requested', 'Closed', 'Assigned'], // Categories for the bar chart
        datasets: [{
            label: 'Service Requests',
            data: [30, 20, 15], // Replace with actual counts for each status
            backgroundColor: ['#4e73df', '#1cc88a', '#36b9cc'], // Colors for each bar
            borderColor: ['#4e73df', '#1cc88a', '#36b9cc'],
            borderWidth: 1
        }]
    };

    // Configuration options
    const config = {
        type: 'bar',
        data: data,
        options: {
            responsive: true,
            plugins: {
                legend: {
                    display: false // Hide legend for simplicity
                }
            },
            scales: {
                y: {
                    beginAtZero: true,
                    title: {
                        display: true,
                        text: 'Number of Requests'
                    }
                },
                x: {
                    title: {
                        display: true,
                        text: 'Status'
                    }
                }
            }
        }
    };

    // Render the chart
    const ctx = document.getElementById('serviceRequestsChart').getContext('2d');
    new Chart(ctx, config);
</script>

{% endblock %}